buildscript {
	repositories {
		maven {
			url "https://plugins.gradle.org/m2/"
		}
	}
	dependencies {
		classpath "org.springframework.boot:spring-boot-gradle-plugin:2.1.2.RELEASE"
		classpath "net.ltgt.gradle:gradle-apt-plugin:0.21"
	}
}


subprojects {
	apply plugin: 'java'
	apply plugin: 'org.springframework.boot'
	apply plugin: 'io.spring.dependency-management'
	apply plugin: 'net.ltgt.apt'
	
	sourceCompatibility = JavaVersion.VERSION_11
	
	repositories {
		jcenter()
		mavenCentral()
	}

	jar {
		enabled=true
	}

	dependencies {
		//SpringBoot
		implementation group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '2.1.2.RELEASE'
		implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa', version: '2.1.2.RELEASE'

		//GraphQL
		implementation group: 'com.graphql-java-kickstart', name: 'graphql-java-tools', version: '5.4.1'
		implementation group: 'com.graphql-java-kickstart', name: 'graphql-spring-boot-starter', version: '5.4.1'
		implementation group: 'com.graphql-java-kickstart', name: 'graphiql-spring-boot-autoconfigure', version: '5.4.1'
		testImplementation group: 'com.graphql-java-kickstart', name: 'graphql-spring-boot-starter-test', version: '5.4.1'

		implementation group: 'io.reactivex.rxjava2', name: 'rxjava', version: '2.2.6'

		//H2 DataBase
		implementation group: 'com.h2database', name: 'h2', version: '1.4.197'
		// https://projectlombok.org
		compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.18.4'
		annotationProcessor group: 'org.projectlombok', name: 'lombok', version: '1.18.4'
	}
}

project(':app') {
	//REQUIRED
	dependencies {
		implementation project(':counter')
	}
}

project(':counter') {
	//REQUIRED
	dependencies {
		implementation project(':core')
	}
}

